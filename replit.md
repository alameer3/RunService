# نظرة عامة

هذا هو مشروع لبيئة سطح مكتب Ubuntu قائمة على الويب تشغل سطح مكتب LXDE كامل يمكن الوصول إليه عبر متصفح الويب باستخدام تقنيات VNC و noVNC. يتيح المشروع للمستخدمين الوصول إلى سطح مكتب Ubuntu كامل عن بُعد دون الحاجة لتثبيت تطبيقات محلية، مع متصفح Chromium مثبت مسبقاً وإمكانية الوصول العام عبر أنفاق Cloudflare.

# تفضيلات المستخدم

أسلوب التواصل المفضل: لغة بسيطة وعادية بالعربية.

# معمارية النظام

## استراتيجية التحوية (Containerization)
يستخدم النظام تحوية Docker مع Ubuntu 22.04 كصورة أساسية لضمان النشر المتسق عبر بيئات مختلفة. هذا النهج يعزل بيئة سطح المكتب ويوفر قابلية النقل السهلة.

## بيئة سطح المكتب
- **خادم العرض**: يستخدم LXDE (بيئة سطح المكتب X11 الخفيفة) للأداء الأمثل في البيئات المحواة
- **العرض الافتراضي**: ينفذ Xvfb (مخزن الإطارات الافتراضي X) لإنشاء خادم X افتراضي دون الحاجة لأجهزة عرض فعلية
- **الوصول عن بُعد**: يستخدم خادم x11vnc لالتقاط سطح المكتب الافتراضي وجعله متاحاً عبر بروتوكول VNC

## معمارية واجهة الويب
- **تكامل noVNC**: ينفذ noVNC v1.2.0 كعميل VNC الأساسي القائم على الويب، مما يلغي حاجة المستخدمين لتثبيت برامج عميل VNC
- **جسر WebSocket**: يستخدم websockify للترجمة بين بروتوكول VNC واتصالات WebSocket، مما يتيح الوصول عبر المتصفح
- **طبقة الأمان**: ينفذ مصادقة كلمة مرور VNC (افتراضي: 123456) للتحكم الأساسي في الوصول

## معمارية الشبكة
- **الأنفاق العامة**: يتكامل مع Cloudflared للوصول الاختياري للإنترنت العام عبر أنفاق Cloudflare
- **إدارة المنافذ**: يستخدم منافذ VNC القياسية مع إعادة توجيه واجهة الويب للوصول السلس عبر المتصفح
- **التوافق متعدد المنصات**: مصمم للعمل عبر أجهزة سطح المكتب والجوال والأجهزة اللوحية من خلال واجهة ويب متجاوبة

## طبقة التطبيقات
- **متصفح مثبت مسبقاً**: يتضمن متصفح Chromium مثبت عبر حزمة .deb يدوية لتجنب تبعيات snap
- **إدارة الحزم**: يستخدم مدير حزم APT مع تكوين غير تفاعلي لمنع مطالبات التثبيت
- **تكوين المنطقة الزمنية**: مُعد مسبقاً لمنطقة آسيا/الرياض الزمنية مع التعامل التلقائي مع التوقيت الصيفي

## استراتيجية النشر
- **سكريبتات الإعداد**: يوفر سكريبتات إعداد وبدء تشغيل آلية (setup.sh، start.sh، start-simple.sh) للنشر السهل
- **بيئة Replit**: يتضمن إصداراً مبسطاً للعمل في بيئة Replit بدون تبعيات نظام (start-simple.sh)
- **بيئة Docker**: يوفر Dockerfile كامل لتشغيل المشروع في حاوية مع جميع التبعيات
- **إدارة الأذونات**: يتضمن تكوين أذونات الملفات المناسبة للسكريبتات القابلة للتنفيذ
- **متغيرات البيئة**: يستخدم DEBIAN_FRONTEND=noninteractive لضمان التثبيت الآلي دون مطالبات المستخدم

# التبعيات الخارجية

## تبعيات النظام الأساسية
- **Ubuntu 22.04**: صورة نظام التشغيل الأساسية
- **بيئة سطح مكتب LXDE**: حزمة بيئة سطح المكتب الخفيفة
- **Xvfb**: خادم مخزن الإطارات الافتراضي للتشغيل بدون رأس
- **x11vnc**: خادم VNC لمشاركة عرض X11

## تقنيات الويب
- **noVNC v1.2.0**: عميل VNC HTML5 من GitHub (novnc/noVNC)
- **websockify**: وكيل WebSocket-to-TCP من GitHub (novnc/websockify)
- **Python3**: بيئة تشغيل لمكونات websockify و noVNC

## تكامل المتصفح
- **متصفح Chromium**: تثبيت يدوي عبر حزمة .deb من مستودع Ubuntu الأمني
- **تبعيات المتصفح**: المكتبات والتبعيات المرتبطة بوظائف Chromium

## خدمات الشبكة
- **Cloudflared**: أحدث إصدار من إصدارات GitHub (cloudflare/cloudflared)
- **أدوات الشبكة**: net-tools و netcat لتشخيص الشبكة والإدارة

## أدوات التطوير
- **Git**: نظام التحكم في الإصدارات لتنزيل noVNC و websockify
- **curl**: عميل HTTP لعمليات الشبكة المختلفة
- **wget**: أداة تنزيل الملفات لاسترداد الحزم

## أدوات النظام
- **tzdata**: حزمة بيانات المنطقة الزمنية لتكوين الوقت الدقيق
- **Python3-pip**: مثبت الحزم لتبعيات Python (رغم أنه غير مستخدم بنشاط في الإعداد الحالي)